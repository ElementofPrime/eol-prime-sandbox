@import "tailwindcss";

/* =========================
   Base light/dark surfaces
   ========================= */
@layer base {
  html, body { height: 100%; }
  body { min-height: 100svh; }

  html {
    @apply bg-white text-slate-900;
  }
  html.dark {
    @apply bg-[#0b1220] text-slate-100;
  }

  h1, h2, h3, h4, h5, h6 { @apply text-slate-900 dark:text-slate-100; }
  a { @apply text-sky-600 dark:text-sky-400; }
}

/* in /styles/globals.css */
.header-beam::after { content: none !important; }
nav { border: 0 !important; box-shadow: none !important; }

/* Utilities: glow + breathing + bg animations */
@layer utilities {
  .gpu-fix { transform: translateZ(0); }
  .eol-glow {
    --glow-color-1: rgba(59,130,246,.8);
    --glow-color-2: rgba(34,211,238,.6);
    box-shadow: 0 0 12px var(--glow-color-1), 0 0 32px var(--glow-color-2), 0 0 64px var(--glow-color-1);
    transition: box-shadow .4s ease;
    border-radius: 9999px;
  }
  html.dark .eol-glow {
    --glow-color-1: rgba(129,230,217,.4);
    --glow-color-2: rgba(34,197,94,.5);
    box-shadow: 0 0 8px var(--glow-color-1), 0 0 24px var(--glow-color-2), 0 0 48px var(--glow-color-1);
  }
  .eol-glow-transition { transition: box-shadow .4s, filter .3s; }
  @keyframes eolPulseGlow {
    0%,100% { opacity: .72; transform: scale(1); }
    50%     { opacity: 1;   transform: scale(1.045); }
  }
  .eol-pulse-glow {
    animation: eolPulseGlow 8s ease-in-out infinite;
    will-change: transform, opacity;
  }
  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .eol-pulse-glow { animation: none !important; }
  }
  @keyframes eol-breathe { 0%,100%{transform:scale(1);filter:brightness(1)} 50%{transform:scale(1.012);filter:brightness(1.06)} }
  @keyframes eol-ambient { 0%,100%{opacity:.18} 50%{opacity:.26} }
  .eol-breathe { animation: eol-breathe 4.5s ease-in-out infinite; will-change: transform, filter; }
  .eol-ambient { animation: eol-ambient 6.5s ease-in-out infinite; }

  @keyframes eolVineDrift { 0%{transform:translateY(0) rotate(0)} 50%{transform:translateY(-10px) rotate(-.6deg)} 100%{transform:translateY(0) rotate(0)} }
  @keyframes eolTreeGlow { 0%{box-shadow:0 0 0 rgba(34,211,238,0)}50%{box-shadow:0 0 36px rgba(59,130,246,.18)}100%{box-shadow:0 0 0 rgba(34,211,238,0)} }
  .animate-vine{ animation: eolVineDrift 18s ease-in-out infinite; }
  .animate-tree-glow{ animation: eolTreeGlow 7s ease-in-out infinite; }

  @media (prefers-reduced-motion: reduce) {
    .eol-breathe, .eol-ambient, .animate-vine, .animate-tree-glow { animation: none !important; }
  }
}
.antialiased-smooth {
  transform: translateZ(0);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
input, textarea, select { font-size: 16px; }
html, body { -webkit-text-size-adjust: 100%; }
html { scroll-behavior: smooth; }
button, a { -webkit-tap-highlight-color: transparent; }
}
/* ===== Fortress of Prime — visual systems ===== */

/* Starfield (pure CSS) */
.prime-starfield {
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.8) 50%, transparent 55%),
    radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,255,255,.6) 50%, transparent 55%),
    radial-gradient(1.2px 1.2px at 40% 80%, rgba(255,255,255,.55) 50%, transparent 55%),
    radial-gradient(1.2px 1.2px at 85% 20%, rgba(255,255,255,.6) 50%, transparent 55%),
    radial-gradient(1px 1px at 10% 75%, rgba(255,255,255,.5) 50%, transparent 55%);
  background-repeat: repeat;
  background-size: 700px 700px;
  animation: primeStarDrift 80s linear infinite;
}
@keyframes primeStarDrift {
  0% { transform: translateY(0px); }
  100% { transform: translateY(-400px); }
}

/* Fog layer */
.prime-fog:before,
.prime-fog:after {
  content: "";
  position: absolute;
  inset: -10%;
  background: radial-gradient(60% 40% at 50% 100%, rgba(180,200,230,.08), transparent 70%),
              radial-gradient(60% 40% at 10% 30%, rgba(120,170,220,.06), transparent 70%),
              radial-gradient(60% 40% at 90% 40%, rgba(120,170,220,.05), transparent 70%);
  filter: blur(18px);
  animation: fogFloat 24s ease-in-out infinite alternate;
}
.prime-fog:after { animation-duration: 36s; opacity: .6; }
@keyframes fogFloat {
  0% { transform: translateY(0px) translateX(0px); }
  100% { transform: translateY(-18px) translateX(6px); }
}

/* Light beams */
.prime-beams {
  background: conic-gradient(from 180deg at 50% -10%,
    rgba(56,189,248,.12),
    transparent 30%,
    rgba(147,197,253,.10),
    transparent 70%,
    rgba(56,189,248,.12));
  mask-image: radial-gradient(120% 60% at 50% 0%, black 20%, transparent 70%);
  animation: beamsGlow 10s ease-in-out infinite alternate;
}
@keyframes beamsGlow {
  0% { opacity: .25; }
  100% { opacity: .45; }
}

/* Beacon glow atop the fortress */
.prime-beacon {
  pointer-events: none;
  background: radial-gradient(200px 120px at 50% 20%, rgba(180,220,255,.35), transparent 60%);
  mix-blend-mode: screen;
  animation: beaconPulse 6s ease-in-out infinite;
}
@keyframes beaconPulse {
  0%, 100% { opacity: .35; filter: blur(10px) saturate(110%); }
  50% { opacity: .55; filter: blur(14px) saturate(130%); }
}

/* Parallax: subtle float on fortress */
.fortress-parallax {
  animation: parallaxFloat 14s ease-in-out infinite;
}
@keyframes parallaxFloat {
  0%, 100% { transform: translateY(0px) scale(1); }
  50% { transform: translateY(-6px) scale(1.01); }
}

/* Prime aura halo (used by PrimeAura) */
.prime-aura {
  filter: blur(22px);
  animation: auraPulse 3.6s ease-in-out infinite;
}
@keyframes auraPulse {
  0% { opacity: .25; transform: scale(.98); }
  50% { opacity: .45; transform: scale(1.02); }
  100% { opacity: .25; transform: scale(.98); }
}

/* Smooth thin scrollbar on chat log (webkit fallback) */
.scrollbar-thin::-webkit-scrollbar { height: 8px; width: 8px; }
.scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(255,255,255,.15); border-radius: 8px; }
.scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
/* ===== Element of Life — Light/Dark balance ===== */
@layer base {
  /* Background + base text */
  html {
    /* soft paper gradient instead of pure white */
    @apply bg-[linear-gradient(to_bottom,#f9fafb,#f1f5f9)] text-slate-900;
  }
  html.dark {
    @apply bg-[#0b1220] text-slate-100;
  }

  /* Placeholders / subtle text */
  ::placeholder {
    @apply text-slate-500 dark:text-slate-400;
  }
}

/* Re-usable surfaces that self-balance by theme */
@layer components {
  /* Panels / cards */
  .eol-panel {
    @apply rounded-2xl border backdrop-blur;
    @apply bg-white/80 text-slate-900 border-slate-200/70;
    @apply dark:bg-white/10 dark:text-white dark:border-white/10;
  }

  /* Muted text that’s still readable in light theme */
  .eol-muted {
    @apply text-slate-700 dark:text-slate-300;
  }

  .eol-heading {
    @apply text-slate-900 dark:text-white;
  }

  /* Inputs */
  .eol-input {
    @apply w-full rounded-xl px-3 py-2 outline-none;
    @apply bg-slate-100 text-slate-900 border border-slate-300;
    @apply dark:bg-black/20 dark:text-white dark:border-white/15;
  }

  /* Primary button */
  .eol-btn {
    @apply rounded-xl px-5 py-2 font-medium transition;
    @apply bg-slate-900 text-white hover:bg-black;
    @apply dark:bg-white/90 dark:text-slate-900 dark:hover:bg-white;
  }

  /* Ghost/soft button */
  .eol-btn-ghost {
    @apply rounded-xl px-4 py-2 transition;
    @apply bg-white/70 text-slate-900 hover:bg-white;
    @apply dark:bg-white/10 dark:text-white dark:hover:bg-white/15;
  }

  /* Chat bubbles */
  .eol-bubble-user {
    @apply ml-auto max-w-[85%] rounded-2xl px-4 py-3 shadow-md backdrop-blur;
    @apply bg-white/85 text-slate-900;
    @apply dark:bg-white/10 dark:text-white;
  }
  .eol-bubble-assistant {
    @apply mr-auto max-w-[85%] rounded-2xl px-4 py-3 shadow-md backdrop-blur;
    @apply bg-slate-100/90 text-slate-900;
    @apply dark:bg-white/10 dark:text-white;
  }

  /* Notices / banners */
  .eol-banner {
    @apply rounded-2xl border p-3 text-sm backdrop-blur;
    @apply bg-amber-50 text-amber-900 border-amber-200;
    @apply dark:bg-white/5 dark:text-white dark:border-white/10;
  }
}
