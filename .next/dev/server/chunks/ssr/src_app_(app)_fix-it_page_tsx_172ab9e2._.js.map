{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/eol-prime-sandbox/src/app/%28app%29/fix-it/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nexport default function FixItPage() {\r\n  const [input, setInput] = useState('');\r\n  const [messages, setMessages] = useState<{ role: 'user' | 'assistant'; content: string }[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function send() {\r\n    const q = input.trim();\r\n    if (!q) return;\r\n    setInput('');\r\n    setMessages((m) => [...m, { role: 'user', content: q }]);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await fetch('/api/chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          messages: [\r\n            ...messages,\r\n            { role: 'user', content: q },\r\n            {\r\n              role: 'system',\r\n              content:\r\n                'You are Prime, a friendly step-by-step Fix-It guide. Prioritize safety checks, required tools, diagnosis flow, and simple actions first.',\r\n            },\r\n          ],\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      setMessages((m) => [...m, { role: 'assistant', content: data.reply ?? 'Done.' }]);\r\n    } catch {\r\n      setMessages((m) => [...m, { role: 'assistant', content: 'Hmm, something went wrong. Try again.' }]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <main className=\"min-h-[calc(100vh-6rem)] px-4 pb-24 pt-28 text-slate-300\">\r\n      <section className=\"mx-auto max-w-4xl\">\r\n        <h1 className=\"eol-heading text-5xl font-bold\">Prime Fix-It</h1>\r\n        <p className=\"eol-muted\">\r\n          Tell Prime what you&apos;re trying to fix—he&apos;ll walk you through it confidently and safely.\r\n        </p>\r\n\r\n        <div className=\"mt-6 space-y-3\">\r\n          {messages.map((m, i) => (\r\n            <div\r\n              key={i}\r\n              className={`rounded-2xl border border-white/10 p-4 ${\r\n                m.role === 'user' ? 'bg-white/5' : 'bg-cyan-500/10'\r\n              }`}\r\n            >\r\n              <p className=\"whitespace-pre-wrap\">{m.content}</p>\r\n            </div>\r\n          ))}\r\n          {loading && <div className=\"text-slate-500\">Prime is thinking…</div>}\r\n        </div>\r\n\r\n        <div className=\"sticky bottom-6 mt-6 rounded-2xl border border-white/10 bg-white/5 p-3 backdrop-blur\">\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyDown={(e) => e.key === 'Enter' && send()}\r\n              placeholder=\"Ex: 1975 Yamaha DT400 flywheel won’t come off…\"\r\n              className=\"flex-1 rounded-xl bg-black/30 px-4 py-3 outline-none\"\r\n            />\r\n            <button\r\n              onClick={send}\r\n              disabled={loading}\r\n              className=\"rounded-xl bg-cyan-600 px-5 py-3 font-medium text-slate-500 hover:bg-cyan-500 disabled:opacity-60\"\r\n            >\r\n              Send\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAoD,EAAE;IAC9F,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,eAAe;QACb,MAAM,IAAI,MAAM,IAAI;QACpB,IAAI,CAAC,GAAG;QACR,SAAS;QACT,YAAY,CAAC,IAAM;mBAAI;gBAAG;oBAAE,MAAM;oBAAQ,SAAS;gBAAE;aAAE;QACvD,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,aAAa;gBACnC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;2BACL;wBACH;4BAAE,MAAM;4BAAQ,SAAS;wBAAE;wBAC3B;4BACE,MAAM;4BACN,SACE;wBACJ;qBACD;gBACH;YACF;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,YAAY,CAAC,IAAM;uBAAI;oBAAG;wBAAE,MAAM;wBAAa,SAAS,KAAK,KAAK,IAAI;oBAAQ;iBAAE;QAClF,EAAE,OAAM;YACN,YAAY,CAAC,IAAM;uBAAI;oBAAG;wBAAE,MAAM;wBAAa,SAAS;oBAAwC;iBAAE;QACpG,SAAU;YACR,WAAW;QACb;IACF;IACA,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAQ,WAAU;;8BACjB,8OAAC;oBAAG,WAAU;8BAAiC;;;;;;8BAC/C,8OAAC;oBAAE,WAAU;8BAAY;;;;;;8BAIzB,8OAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,GAAG,kBAChB,8OAAC;gCAEC,WAAW,CAAC,uCAAuC,EACjD,EAAE,IAAI,KAAK,SAAS,eAAe,kBACnC;0CAEF,cAAA,8OAAC;oCAAE,WAAU;8CAAuB,EAAE,OAAO;;;;;;+BALxC;;;;;wBAQR,yBAAW,8OAAC;4BAAI,WAAU;sCAAiB;;;;;;;;;;;;8BAG9C,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;gCACvC,aAAY;gCACZ,WAAU;;;;;;0CAEZ,8OAAC;gCACC,SAAS;gCACT,UAAU;gCACV,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}}]
}