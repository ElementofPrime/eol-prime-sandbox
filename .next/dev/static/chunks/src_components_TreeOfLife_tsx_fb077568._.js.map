{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Dev/eol-prime-sandbox/src/components/TreeOfLife.tsx"],"sourcesContent":["// components/TreeOfLife.tsx\r\n\"use client\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface Insight {\r\n  mood: string;\r\n  clarity_score: number;\r\n}\r\n\r\nexport default function TreeOfLife() {\r\n  const [insight, setInsight] = useState<Insight | null>(null);\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/pulse\")\r\n      .then(async (res) => {\r\n        if (!res.ok) throw new Error(\"Unauthorized\");\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setInsight(data.insight || { mood: \"neutral\", clarity_score: 5 });\r\n        setError(false);\r\n      })\r\n      .catch(() => {\r\n        setInsight({ mood: \"demo\", clarity_score: 3 });\r\n        setError(true);\r\n      });\r\n  }, []);\r\n\r\n  // DEFAULT VALUES IF NULL\r\n  const safeInsight = insight || { mood: \"demo\", clarity_score: 3 };\r\n  const trunkHeight = 100 + safeInsight.clarity_score * 15;\r\n  const branches = Math.floor(safeInsight.clarity_score / 2);\r\n\r\n  return (\r\n    <div className=\"relative h-96 w-full overflow-hidden\">\r\n      {/* Trunk */}\r\n      <motion.div\r\n        className=\"absolute bottom-0 left-1/2 w-8 -translate-x-1/2 bg-amber-800\"\r\n        style={{ height: trunkHeight }}\r\n        initial={{ height: 100 }}\r\n        animate={{ height: trunkHeight }}\r\n        transition={{ duration: 1 }}\r\n      />\r\n      {/* Branches */}\r\n      {Array.from({ length: branches }).map((_, i) => (\r\n        <motion.div\r\n          key={i}\r\n          className=\"absolute w-4 bg-green-700 origin-bottom-left\"\r\n          style={{\r\n            left: \"50%\",\r\n            bottom: 100 + i * 40,\r\n            height: 60,\r\n            transform: `rotate(${i % 2 === 0 ? -45 : 45}deg)`,\r\n          }}\r\n          initial={{ scale: 0 }}\r\n          animate={{ scale: 1 }}\r\n          transition={{ delay: i * 0.2 }}\r\n        />\r\n      ))}\r\n      <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 text-xs text-center\">\r\n        <p>Mood: {safeInsight.mood}</p>\r\n        <p>Clarity: {safeInsight.clarity_score}/10</p>\r\n        {error && (\r\n          <p className=\"text-red-500 text-xs mt-1\">Sign in for full Pulse</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;AAE5B;AACA;;;AAFA;;;AASe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;gCAAC;YACR,MAAM,cACH,IAAI;wCAAC,OAAO;oBACX,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;oBAC7B,OAAO,IAAI,IAAI;gBACjB;uCACC,IAAI;wCAAC,CAAC;oBACL,WAAW,KAAK,OAAO,IAAI;wBAAE,MAAM;wBAAW,eAAe;oBAAE;oBAC/D,SAAS;gBACX;uCACC,KAAK;wCAAC;oBACL,WAAW;wBAAE,MAAM;wBAAQ,eAAe;oBAAE;oBAC5C,SAAS;gBACX;;QACJ;+BAAG,EAAE;IAEL,yBAAyB;IACzB,MAAM,cAAc,WAAW;QAAE,MAAM;QAAQ,eAAe;IAAE;IAChE,MAAM,cAAc,MAAM,YAAY,aAAa,GAAG;IACtD,MAAM,WAAW,KAAK,KAAK,CAAC,YAAY,aAAa,GAAG;IAExD,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC,uMAAM,CAAC,GAAG;gBACT,WAAU;gBACV,OAAO;oBAAE,QAAQ;gBAAY;gBAC7B,SAAS;oBAAE,QAAQ;gBAAI;gBACvB,SAAS;oBAAE,QAAQ;gBAAY;gBAC/B,YAAY;oBAAE,UAAU;gBAAE;;;;;;YAG3B,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAS,GAAG,GAAG,CAAC,CAAC,GAAG,kBACxC,6LAAC,uMAAM,CAAC,GAAG;oBAET,WAAU;oBACV,OAAO;wBACL,MAAM;wBACN,QAAQ,MAAM,IAAI;wBAClB,QAAQ;wBACR,WAAW,CAAC,OAAO,EAAE,IAAI,MAAM,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;oBACnD;oBACA,SAAS;wBAAE,OAAO;oBAAE;oBACpB,SAAS;wBAAE,OAAO;oBAAE;oBACpB,YAAY;wBAAE,OAAO,IAAI;oBAAI;mBAVxB;;;;;0BAaT,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;4BAAE;4BAAO,YAAY,IAAI;;;;;;;kCAC1B,6LAAC;;4BAAE;4BAAU,YAAY,aAAa;4BAAC;;;;;;;oBACtC,uBACC,6LAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;;AAKnD;GA5DwB;KAAA","debugId":null}}]
}