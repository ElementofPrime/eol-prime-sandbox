{"version":3,"sources":["turbopack:///[project]/src/app/(app)/fix-it/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nexport default function FixItPage() {\r\n  const [input, setInput] = useState('');\r\n  const [messages, setMessages] = useState<{ role: 'user' | 'assistant'; content: string }[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function send() {\r\n    const q = input.trim();\r\n    if (!q) return;\r\n    setInput('');\r\n    setMessages((m) => [...m, { role: 'user', content: q }]);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await fetch('/api/chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          messages: [\r\n            ...messages,\r\n            { role: 'user', content: q },\r\n            {\r\n              role: 'system',\r\n              content:\r\n                'You are Prime, a friendly step-by-step Fix-It guide. Prioritize safety checks, required tools, diagnosis flow, and simple actions first.',\r\n            },\r\n          ],\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      setMessages((m) => [...m, { role: 'assistant', content: data.reply ?? 'Done.' }]);\r\n    } catch {\r\n      setMessages((m) => [...m, { role: 'assistant', content: 'Hmm, something went wrong. Try again.' }]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <main className=\"min-h-[calc(100vh-6rem)] px-4 pb-24 pt-28 text-slate-300\">\r\n      <section className=\"mx-auto max-w-4xl\">\r\n        <h1 className=\"eol-heading text-5xl font-bold\">Prime Fix-It</h1>\r\n        <p className=\"eol-muted\">\r\n          Tell Prime what you&apos;re trying to fix—he&apos;ll walk you through it confidently and safely.\r\n        </p>\r\n\r\n        <div className=\"mt-6 space-y-3\">\r\n          {messages.map((m, i) => (\r\n            <div\r\n              key={i}\r\n              className={`rounded-2xl border border-white/10 p-4 ${\r\n                m.role === 'user' ? 'bg-white/5' : 'bg-cyan-500/10'\r\n              }`}\r\n            >\r\n              <p className=\"whitespace-pre-wrap\">{m.content}</p>\r\n            </div>\r\n          ))}\r\n          {loading && <div className=\"text-slate-500\">Prime is thinking…</div>}\r\n        </div>\r\n\r\n        <div className=\"sticky bottom-6 mt-6 rounded-2xl border border-white/10 bg-white/5 p-3 backdrop-blur\">\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyDown={(e) => e.key === 'Enter' && send()}\r\n              placeholder=\"Ex: 1975 Yamaha DT400 flywheel won’t come off…\"\r\n              className=\"flex-1 rounded-xl bg-black/30 px-4 py-3 outline-none\"\r\n            />\r\n            <button\r\n              onClick={send}\r\n              disabled={loading}\r\n              className=\"rounded-xl bg-cyan-600 px-5 py-3 font-medium text-slate-500 hover:bg-cyan-500 disabled:opacity-60\"\r\n            >\r\n              Send\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoD,EAAE,EACxF,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvC,eAAe,IACb,IAAM,EAAI,EAAM,IAAI,GACpB,GAAK,CAAD,EACJ,AADQ,EACC,IACT,EAAY,AAAC,GAAM,IAAI,EAAG,CAAE,KAAM,OAAQ,QAAS,CAAE,EAAE,EACvD,GAAW,GAEX,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,YAAa,CACnC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,SAAU,IACL,EACH,CAAE,KAAM,OAAQ,QAAS,CAAE,EAC3B,CACE,KAAM,SACN,QACE,0IACJ,EACD,AACH,EACF,GACM,EAAO,MAAM,EAAI,IAAI,GAC3B,EAAY,AAAC,GAAM,IAAI,EAAG,CAAE,KAAM,YAAa,QAAS,EAAK,KAAK,EAAI,OAAQ,EAAE,CAClF,CAAE,KAAM,CACN,EAAY,AAAC,GAAM,IAAI,EAAG,CAAE,KAAM,YAAa,QAAS,uCAAwC,EAAE,CACpG,QAAU,CACR,GAAW,EACb,EACF,CACA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oEACd,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,8BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0CAAiC,iBAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qBAAY,2FAIzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,EAAS,GAAG,CAAC,CAAC,EAAG,IAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,UAAW,CAAC,uCAAuC,EACtC,SAAX,EAAE,IAAI,CAAc,aAAe,iBAAA,CACnC,UAEF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAE,OAAO,IALxC,IAQR,GAAW,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BAAiB,0BAG9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,UAAW,AAAC,GAAgB,UAAV,EAAE,GAAG,EAAgB,IACvC,YAAY,iDACZ,UAAU,yDAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,6GACX,kBAQb"}