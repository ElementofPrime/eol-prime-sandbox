{"version":3,"sources":["turbopack:///[project]/src/app/(app)/settings/page.tsx","turbopack:///[project]/src/components/PrimePulseTile.tsx","turbopack:///[project]/src/lib/prime/pulse.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { motion } from \"framer-motion\";\r\nimport PrimePulseTile from \"@/components/PrimePulseTile\";\r\n\r\nconst elements = [\r\n  { title: \"Chat\", icon: \"üí¨\", link: \"/chat\" },\r\n  { title: \"Journal\", icon: \"üìî\", link: \"/journal\" },\r\n  { title: \"To-Do\", icon: \"‚úÖ\", link: \"/To-Do\" },\r\n  { title: \"Reminders\", icon: \"‚è∞\", link: \"/reminders\" },\r\n  { title: \"Fix-It\", icon: \"üõ†Ô∏è\", link: \"/fix-it\" },\r\n  { title: \"New Beginning\", icon: \"üß†\", link: \"/new-beginning\" },\r\n  { title: \"Core\", icon: \"üåø\", link: \"/core\" },\r\n  { title: \"About\", icon: \"‚ú®\", link: \"/about\" },\r\n];\r\n\r\nexport default function Home() {\r\n  return (\r\n    <div className=\"relative mx-auto w-full max-w-6xl text-center overflow-visible flex flex-col items-center\">\r\n      {/* Logo focus */}\r\n      <motion.div\r\n        className=\"relative isolate mx-auto mb-8 mt-2 sm:mt-4 w-36 sm:w-48 md:w-56 eol-breathe\"\r\n        initial={{ opacity: 0, scale: 1.08 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        transition={{ duration: 0.9, ease: \"easeOut\" }}\r\n      >\r\n        {/* circular aura (decorative) */}\r\n        <div\r\n          aria-hidden=\"true\"\r\n          className=\"pointer-events-none absolute inset-0 -z-10 rounded-full eol-pulse-glow\"\r\n          style={{\r\n            background:\r\n              \"radial-gradient(50% 50% at 50% 50%, rgba(34,211,238,.28) 0%, rgba(59,130,246,.16) 40%, transparent 70%)\",\r\n            filter: \"blur(16px)\",\r\n            transform: \"translateZ(0)\",\r\n          }}\r\n        />\r\n        <Image\r\n          src=\"/logo.png\"\r\n          alt=\"Element of Life logo\"\r\n          width={480}\r\n          height={480}\r\n          sizes=\"(max-width: 640px) 9rem, (max-width: 768px) 12rem, 14rem\"\r\n          priority\r\n          draggable={false}\r\n          className=\"w-full h-auto rounded-full select-none eol-glow eol-glow-transition\"\r\n        />\r\n      </motion.div>\r\n\r\n      {/* Mantra + subhead */}\r\n      <div className=\"mx-auto max-w-[68ch] px-4\">\r\n        <motion.p\r\n          className=\"text-lg md:text-xl text-zinc-700 dark:text-zinc-500 leading-relaxed text-center\"\r\n          initial={{ opacity: 0, y: 12 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.3, duration: 0.6 }}\r\n        >\r\n          <span className=\"font-medium text-zinc-800 dark:text-zinc-500\">\r\n            Welcome to Element of Life ‚Äî\r\n          </span>{\" \"}\r\n          the foundation where{\" \"}\r\n          <span className=\"text-cyan-600 dark:text-cyan-300\">focus</span>{\" \"}\r\n          becomes growth, and growth becomes transformation.\r\n        </motion.p>\r\n\r\n        <motion.h2\r\n          className=\"text-center text-cyan-600 dark:text-cyan-400 text-sm sm:text-base font-semibold mt-6 mb-8\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.6, duration: 0.5 }}\r\n        >\r\n          Guiding Tools that help Discover Your Core Elements\r\n        </motion.h2>\r\n      </div>\r\n\r\n      {/* Prime Pulse */}\r\n      <div className=\"mx-auto w-full max-w-6xl px-3 pb-6\">\r\n        <PrimePulseTile />\r\n      </div>\r\n\r\n      {/* Grid */}\r\n      <div className=\"mx-auto max-w-6xl grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 sm:gap-5 md:gap-6 px-3 pb-12 mt-2\">\r\n        {elements.map((el) => (\r\n          <Link key={el.title} href={el.link} aria-label={el.title}>\r\n            <motion.div\r\n              whileHover={{ scale: 1.06, y: -2 }}\r\n              transition={{ type: \"spring\", stiffness: 250, damping: 14 }}\r\n              className=\"eol-panel p-4 focus-within:ring-2 focus-within:ring-cyan-400/50\"\r\n            >\r\n              <div className=\"text-2xl sm:text-3xl mb-2\" aria-hidden=\"true\">\r\n                {el.icon}\r\n              </div>\r\n              <h3 className=\"text-sm sm:text-base font-semibold text-slate-700 dark:text-slate-500\">\r\n                {el.title}\r\n              </h3>\r\n            </motion.div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// src/components/PrimePulseTile.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { subscribeToPulse, getPrimePulse } from \"@/lib/prime/pulse\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useSession, signIn } from \"next-auth/react\";\r\nimport { EOLButton } from \"@/components/EOLButton\";\r\n\r\nfunction UnauthTile() {\r\n  return (\r\n    <div className=\"eol-panel p-6 text-center\">\r\n      <p className=\"text-sm text-slate-600 dark:text-slate-400 mb-4\">\r\n        Sign in to see your Prime Pulse.\r\n      </p>\r\n      <EOLButton variant=\"primary\" onClick={() => signIn()}>\r\n        Sign In\r\n      </EOLButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LoadingTile() {\r\n  return (\r\n    <div className=\"eol-panel p-6\">\r\n      <div className=\"space-y-3\">\r\n        <div className=\"h-4 bg-slate-200 dark:bg-slate-700 rounded w-24 animate-pulse\" />\r\n        <div className=\"h-10 bg-slate-200 dark:bg-slate-700 rounded w-16 animate-pulse\" />\r\n        <div className=\"h-3 bg-slate-200 dark:bg-slate-700 rounded w-full animate-pulse\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PulseDot({ mood }: { mood: string }) {\r\n  return <div className={`w-3 h-3 rounded-full pulse-dot ${mood}`} />;\r\n}\r\n\r\nfunction LivePulseTile({\r\n  pulse,\r\n}: {\r\n  pulse: NonNullable<Awaited<ReturnType<typeof getPrimePulse>>>;\r\n}) {\r\n  const { mood, strength, streak, trend, prompt } = pulse;\r\n  const pct = Math.round(strength * 100);\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"eol-panel p-6\"\r\n      animate={{ scale: [1, 1.02, 1] }}\r\n      transition={{ duration: 2, repeat: Infinity }}\r\n    >\r\n      <div className=\"flex justify-between items-start mb-3\">\r\n        <span className=\"text-xs font-bold tracking-widest text-sky-600 dark:text-sky-400\">\r\n          PRIME PULSE\r\n        </span>\r\n        <PulseDot mood={mood} />\r\n      </div>\r\n\r\n      <motion.div\r\n        key={pct}\r\n        initial={{ scale: 0.8 }}\r\n        animate={{ scale: 1 }}\r\n        className=\"text-5xl font-bold bg-linear-to-br from-sky-600 to-cyan-700 bg-clip-text text-transparent\"\r\n      >\r\n        {pct}%\r\n      </motion.div>\r\n\r\n      <div className=\"text-xs opacity-70 mt-1\">\r\n        {streak > 0\r\n          ? `${streak} day streak ${trend === \"rising\" ? \"‚Üë\" : \"\"}`\r\n          : \"Begin your rhythm\"}\r\n      </div>\r\n\r\n      <p className=\"mt-4 text-sm text-slate-700 dark:text-slate-300\">\r\n        {prompt}\r\n      </p>\r\n\r\n      <div className=\"mt-4\">\r\n        <EOLButton variant=\"primary\" asChild>\r\n          <Link href=\"/journal\">Reflect</Link>\r\n        </EOLButton>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport default function PrimePulseTile() {\r\n  const { status } = useSession();\r\n  const [pulse, setPulse] = useState<Awaited<\r\n    ReturnType<typeof getPrimePulse>\r\n  > | null>(null);\r\n\r\n  useEffect(() => {\r\n    getPrimePulse().then(setPulse);\r\n    return subscribeToPulse(setPulse);\r\n  }, []);\r\n\r\n  if (status !== \"authenticated\") return <UnauthTile />;\r\n  if (!pulse) return <LoadingTile />;\r\n  return <LivePulseTile pulse={pulse} />;\r\n}\r\n","export type Pulse = {\r\n\tmood: \"positive\" | \"neutral\" | \"negative\";\r\n\tstrength: number; // 0‚Äì1\r\n\tstreak: number;\r\n\ttrend: \"rising\" | \"falling\" | \"steady\";\r\n\tprompt: string;\r\n\taura: \"calm\" | \"excited\" | \"reflective\" | \"stressed\";\r\n\tglowIntensity: number;\r\n};\r\n\r\nlet currentPulse: Pulse | null = null;\r\nlet listeners: ((p: Pulse) => void)[] = [];\r\n\r\nexport async function getPrimePulse(): Promise<Pulse | null> {\r\n\ttry {\r\n\t\tconst res = await fetch(\"/api/pulse\", { cache: \"no-store\" });\r\n\t\tconst json = await res.json();\r\n\t\tif (!json?.ok || !json.pulse) return currentPulse;\r\n\r\n\t\tcurrentPulse = json.pulse;\r\n\t\tlisteners.forEach((l) => l(currentPulse!));\r\n\t\treturn currentPulse;\r\n\t} catch {\r\n\t\treturn currentPulse;\r\n\t}\r\n}\r\n\r\nexport function subscribeToPulse(callback: (p: Pulse) => void) {\r\n\tlisteners.push(callback);\r\n\tif (currentPulse) callback(currentPulse);\r\n\treturn () => {\r\n\t\tlisteners = listeners.filter((l) => l !== callback);\r\n\t};\r\n}\r\n"],"names":[],"mappings":"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"}